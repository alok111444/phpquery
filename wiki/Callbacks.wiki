=Table of Conents=
 * [#What_are_callbacks What are callbacks]
 * [#Java_Script_callbacks JavaScript callbacks]
 * [#PHP_callbacks PHP callbacks]
 * [#Param_Structures ParamStructures]
 * [#Supported_Methods Supported Methods]
 * [#Scope_Pseudo_Inheritance Scope Pseudo-Inheritance]
==What are callbacks==
Callbacks are functions _called back_ by other functions in proper moment (eg on [http://code.google.com/p/phpquery/wiki/Ajax Ajax] request error).
==Java Script callbacks==
In JavaScript this pattern can be very flexible due to [http://en.wikipedia.org/wiki/Closure_(computer_science) Closures] support, which can be inline (no code break) and inherits scope (no need to passing params).
==PHP callbacks==
PHP has only simple [http://pl2.php.net/manual/en/function.call-user-func-array.php support for callbacks] so the case is more complicated. That's why [#Param_Structures ParamStructures] has been introduced in phpQuery.
==Param Structures==
Param Structures are lists of params. Such list can contain values defined by programmer or special places (CallbackParam objects) where function triggering callback will fill it's own values.
====Example 1====
{{{
phpQuery::each(
  // first param is array which will be iterated
  array(1,2,3),
  // second param is callback (string or array to call objects method)
  'myCallback',
  // rest of params are ParamStructure
  // CallbackParam objects will be changed to $i and $v by phpQuery::each method
  'param1', new CallbackParam, new CallbackParam, 'param4'
);
function myCallback($param1, $i, $v, $param4) {
  print "Index: $i; Value: $v";
}
}}}
Example above shows how to easily pass custom params to callback using [#Param_Structures ParamStructures].
==Supported Methods==
 * `phpQuery::each()`
 * `phpQuery::map()`
 * `pq()->each()`
 * `pq()->map()`
==Scope Pseudo Inheritance==
There is easy way to pseudo-inherit scope in PHP. [http://en.wikipedia.org/wiki/Scope_(programming) Scope] means _variables accessible in specified point of code_. It's achieved using [http://php.net/compact compact()] and [http://php.net/extract extract()] functions.
====Example 2====
Look at this modified [#Example_1 example]. Previous comments were removed.
{{{
$a = 'foo';
$b = 'bar';
phpQuery::each(
  array(1,2,3),
  'myCallback',
  // notice that 'param1' changed to compact('a', 'b')
  // where 'a' and 'b' are variable names accessible in actual scope
  compact('a', 'b'), new CallbackParam, new CallbackParam, 'param4'
);
function myCallback($scope, $i, $v, $param4) {
  extract($scope);
  print "Var a: $a";  // will print 'Var a: foo'
  print "Var b: $b";  // will print 'Var a: bar'
  print "Index: $i; Value: $v";
}
}}}
In the future this functionality will be developed and more methods will support it.